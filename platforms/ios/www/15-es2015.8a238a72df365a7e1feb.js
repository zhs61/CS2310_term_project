(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{L6id:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class s{}var u=e("pMnS"),i=e("MKJQ"),o=e("sZkV"),r=e("mrSG"),a=e("BTjv"),c=e("aujn"),b=e("Rp6/");let h=(()=>{class l{constructor(l){this.rxStompService=l}sendMessage(l){const n="(Scope$$$SIS.Scope1$$$Receiver$$$SuperController$$$MessageType$$$Alert$$$Sender$$$FallingDetector$$$Message$$$"+l+"_Need_Help$$$Date$$$"+(new Date).getTime();console.log("send",n),this.rxStompService.publish({destination:"/queue/SISMQ",body:n})}initComponente(l){const n="(Scope$$$SIS.Scope1$$$MessageType$$$Register$$$Role$$$Basic$$$Name$$$FallingDetector$$$)";console.log("init: ",n),this.rxStompService.publish({destination:"/queue/SISMQ",body:n});const e="(Scope$$$SIS.Scope1$$$MessageType$$$Connect$$$Role$$$Basic$$$Name$$$FallingDetector$$$";console.log("init: ",e),this.rxStompService.publish({destination:"/queue/SISMQ",body:e})}}return l.ngInjectableDef=t.Gb({factory:function(){return new l(t.Hb(b.b))},token:l,providedIn:"root"}),l})();class ${constructor(l,n,e,t){this.sendMessageService=l,this.userprofile=n,this.deviceMotion=e,this.alertController=t,this.X=1,this.Y=2,this.Z=3,this.alertPresented=!1,this.sent=!1}ngOnInit(){this.username=this.userprofile.getFirstName()+" "+this.userprofile.getLastName(),this.welocomeMessage="Welcome, "+this.username,this.sendMessageService.initComponente(this.username)}presentSendMessage(){return r.a(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Alert",message:"Help Message Sent!",buttons:[{text:"OK"}]});yield l.present()}))}presentAlertMultipleButtons(){return r.a(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Alert",message:"Do you need help?",buttons:[{text:"Help",handler:()=>{this.alertPresented=!1,l.dismiss(),this.sendmessage(),this.presentSendMessage(),this.sent=!0}},{text:"Not Help",handler:()=>{this.sent=!0,this.alertPresented=!1,l.dismiss()}}]});this.alertPresented||(yield l.present(),this.alertPresented=!0,setTimeout(()=>{this.alertPresented=!1,l.dismiss(),this.sent||(this.sendmessage(),this.presentSendMessage()),this.sent=!1},1e4))}))}start(){this.subscription=this.deviceMotion.watchAcceleration({frequency:50}).subscribe(l=>{this.X=l.x,this.Y=l.y,this.Z=l.z,this.Z>=16.8&&(this.subscription.unsubscribe(),this.presentAlertMultipleButtons())})}stop(){this.subscription=null,this.alertPresented=!1}sendmessage(){this.sendMessageService.sendMessage(this.username)}}var p=t.kb({encapsulation:0,styles:[["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:translucent}"]],data:{}});function d(l){return t.Cb(0,[(l()(),t.mb(0,0,null,null,6,"ion-header",[],null,null,null,i.n,i.d)),t.lb(1,49152,null,0,o.z,[t.h,t.k,t.x],{translucent:[0,"translucent"]},null),(l()(),t.mb(2,0,null,0,4,"ion-toolbar",[],null,null,null,i.t,i.j)),t.lb(3,49152,null,0,o.xb,[t.h,t.k,t.x],null,null),(l()(),t.mb(4,0,null,0,2,"ion-title",[],null,null,null,i.s,i.i)),t.lb(5,49152,null,0,o.vb,[t.h,t.k,t.x],null,null),(l()(),t.Bb(-1,0,[" Blank "])),(l()(),t.mb(7,0,null,null,26,"ion-content",[],null,null,null,i.m,i.c)),t.lb(8,49152,null,0,o.s,[t.h,t.k,t.x],{fullscreen:[0,"fullscreen"]},null),(l()(),t.mb(9,0,null,0,6,"ion-header",[["collapse","condense"]],null,null,null,i.n,i.d)),t.lb(10,49152,null,0,o.z,[t.h,t.k,t.x],{collapse:[0,"collapse"]},null),(l()(),t.mb(11,0,null,0,4,"ion-toolbar",[],null,null,null,i.t,i.j)),t.lb(12,49152,null,0,o.xb,[t.h,t.k,t.x],null,null),(l()(),t.mb(13,0,null,0,2,"ion-title",[["size","large"]],null,null,null,i.s,i.i)),t.lb(14,49152,null,0,o.vb,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.Bb(15,0,["",""])),(l()(),t.mb(16,0,null,0,2,"div",[["full",""]],null,null,null,null,null)),(l()(),t.mb(17,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.Bb(18,null,[" x: "," "])),(l()(),t.mb(19,0,null,0,2,"div",[["full",""]],null,null,null,null,null)),(l()(),t.mb(20,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.Bb(21,null,[" y: "," "])),(l()(),t.mb(22,0,null,0,2,"div",[["full",""]],null,null,null,null,null)),(l()(),t.mb(23,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.Bb(24,null,[" z: "," "])),(l()(),t.mb(25,0,null,0,2,"ion-button",[["full",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.start()&&t),t}),i.l,i.b)),t.lb(26,49152,null,0,o.i,[t.h,t.k,t.x],null,null),(l()(),t.Bb(-1,0,["Start Listening"])),(l()(),t.mb(28,0,null,0,2,"ion-button",[["full",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.stop()&&t),t}),i.l,i.b)),t.lb(29,49152,null,0,o.i,[t.h,t.k,t.x],null,null),(l()(),t.Bb(-1,0,["stop Listening"])),(l()(),t.mb(31,0,null,0,2,"ion-button",[["full",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.sendmessage()&&t),t}),i.l,i.b)),t.lb(32,49152,null,0,o.i,[t.h,t.k,t.x],null,null),(l()(),t.Bb(-1,0,["Test Message"]))],(function(l,n){l(n,1,0,!0),l(n,8,0,!0),l(n,10,0,"condense"),l(n,14,0,"large")}),(function(l,n){var e=n.component;l(n,15,0,e.welocomeMessage),l(n,18,0,e.X),l(n,21,0,e.Y),l(n,24,0,e.Z)}))}function m(l){return t.Cb(0,[(l()(),t.mb(0,0,null,null,1,"app-home",[],null,null,null,d,p)),t.lb(1,114688,null,0,$,[h,c.a,a.a,o.a],null,null)],(function(l,n){l(n,1,0)}),null)}var g=t.ib("app-home",$,m,{},{},[]),v=e("SVse"),S=e("s7LF"),M=e("iInd");e.d(n,"HomePageModuleNgFactory",(function(){return f}));var f=t.jb(s,[],(function(l){return t.ub([t.vb(512,t.j,t.V,[[8,[u.a,g]],[3,t.j],t.v]),t.vb(4608,v.i,v.h,[t.s,[2,v.o]]),t.vb(4608,S.i,S.i,[]),t.vb(4608,o.b,o.b,[t.x,t.g]),t.vb(4608,o.Bb,o.Bb,[o.b,t.j,t.p]),t.vb(4608,o.Eb,o.Eb,[o.b,t.j,t.p]),t.vb(1073742336,v.b,v.b,[]),t.vb(1073742336,S.h,S.h,[]),t.vb(1073742336,S.a,S.a,[]),t.vb(1073742336,o.zb,o.zb,[]),t.vb(1073742336,M.n,M.n,[[2,M.s],[2,M.m]]),t.vb(1073742336,s,s,[]),t.vb(1024,M.k,(function(){return[[{path:"",component:$}]]}),[])])}))}}]);